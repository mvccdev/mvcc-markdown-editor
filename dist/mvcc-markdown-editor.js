class MvccMarkDownEditor extends MvccComponent{selected(){const t=this.root.getElementById("js-editor");return t.value.substring(t.selectionStart,t.selectionEnd).trim()||" "}get text(){return this.root.getElementById("js-editor").value}set text(t){this.root.getElementById("js-editor").value=t}addButton(t,e,n){this.root.getElementById("js-toolbar").innerHTML+=`\n\t\t\t<button class="mvcc-button custom-button--type-outline" title="${t}" onclick="${n}">\n\t\t\t\t<img src="${e}">\n\t\t\t</button>\t\t\t\t\n\t\t`}created(){this.root.getElementById("js-editor-h1")&&this.root.getElementById("js-editor-h1").addEventListener("click",(()=>{document.execCommand("insertText",!1,`\n\r# ${this.selected()} `)})),this.root.getElementById("js-editor-h2")&&this.root.getElementById("js-editor-h2").addEventListener("click",(()=>{document.execCommand("insertText",!1,`\n\r# ${this.selected()} `)})),this.root.getElementById("js-editor-h3")&&this.root.getElementById("js-editor-h3").addEventListener("click",(()=>{document.execCommand("insertText",!1,`\n\r### ${this.selected()} `)})),this.root.getElementById("js-editor-h4")&&this.root.getElementById("js-editor-h4").addEventListener("click",(()=>{document.execCommand("insertText",!1,`\n\r#### ${this.selected()} `)})),this.root.getElementById("js-editor-bold")&&this.root.getElementById("js-editor-bold").addEventListener("click",(()=>{document.execCommand("insertText",!1,`**${this.selected()}**`)})),this.root.getElementById("js-editor-italic")&&this.root.getElementById("js-editor-italic").addEventListener("click",(()=>{document.execCommand("insertText",!1,`_${this.selected()}_`)})),this.root.getElementById("js-editor-bullets")&&this.root.getElementById("js-editor-bullets").addEventListener("click",(()=>{document.execCommand("insertText",!1,`\n\r- ${this.selected()} `)})),this.root.getElementById("js-editor-numbers")&&this.root.getElementById("js-editor-numbers").addEventListener("click",(()=>{document.execCommand("insertText",!1,`\n\r1. ${this.selected()} `)})),this.root.getElementById("js-editor-hr")&&this.root.getElementById("js-editor-hr").addEventListener("click",(()=>{document.execCommand("insertText",!1,`\n\r----- ${this.selected()} `)})),this.root.getElementById("js-editor-link")&&this.root.getElementById("js-editor-link").addEventListener("click",(()=>{var t=window.prompt("Enter the link's url:","https://");null!==t&&document.execCommand("insertText",!1,`[${this.selected()}](${t})`)}))}render(t,e){return`\n\t\t\t\x3c!--#link--\x3e\n\t\t\t\n\t\t\t\t<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/mvccdev/mvcc-objects-css@main/dist/mvcc.css">\n\t\t\t \n\t\t\t\x3c!--#styles--\x3e\n\n\t\t\t\t<style>\n\t\t\t\t\t#js-editor { width: 100%; border: 0; } #js-editor:focus { outline: none; } .custom-button--type-outline:hover { background-color: #eee;\t}\n\t\t\t\t</style>\n\n\t\t\t\x3c!--#editor--\x3e\n\t\t\t\t\n\t\t\t\t<div class="mvcc--shadow-extra-small">\n\n\t\t\t\t\t\x3c!--#buttons--\x3e\n\n\t\t\t\t\t\t<div id="js-toolbar" style="border-bottom: 1px solid #eee;">\n\t\t\t\t\t\t\t${0==this.props.buttons.includes("h1")?"":'\n\t\t\t<button id="js-editor-h1" class="mvcc-button custom-button--type-outline" title="Heading 1">\n\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#5f6368">\n\t\t\t\t\t<path d="M200-280v-400h80v160h160v-160h80v400h-80v-160H280v160h-80Zm480 0v-320h-80v-80h160v400h-80Z" />\n\t\t\t\t</svg>\n\t\t\t</button>\t\n\t\t'}\n\t\t\t\t\t\t\t${0==this.props.buttons.includes("h2")?"":'\n\t\t\t<button id="js-editor-h2" class="mvcc-button custom-button--type-outline" title="Heading 2">\n\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#5f6368">\n\t\t\t\t\t<path d="M120-280v-400h80v160h160v-160h80v400h-80v-160H200v160h-80Zm400 0v-160q0-33 23.5-56.5T600-520h160v-80H520v-80h240q33 0 56.5 23.5T840-600v80q0 33-23.5 56.5T760-440H600v80h240v80H520Z" />\n\t\t\t\t</svg>\n\t\t\t</button>\t\n\t\t'}\n\t\t\t\t\t\t\t${0==this.props.buttons.includes("h3")?"":'\n\t\t\t<button id="js-editor-h3" class="mvcc-button custom-button--type-outline" title="Heading 3">\n\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#5f6368">\n\t\t\t\t\t<path d="M120-280v-400h80v160h160v-160h80v400h-80v-160H200v160h-80Zm400 0v-80h240v-80H600v-80h160v-80H520v-80h240q33 0 56.5 23.5T840-600v240q0 33-23.5 56.5T760-280H520Z" />\n\t\t\t\t</svg>\n\t\t\t</button>\t\n\t\t'}\n\t\t\t\t\t\t\t${0==this.props.buttons.includes("h4")?"":'\n\t\t\t<button id="js-editor-h4" class="mvcc-button custom-button--type-outline" title="Heading 4">\n\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#5f6368">\n\t\t\t\t\t<path d="M120-280v-400h80v160h160v-160h80v400h-80v-160H200v160h-80Zm600 0v-120H520v-280h80v200h120v-200h80v200h80v80h-80v120h-80Z" />\n\t\t\t\t</svg>\n\t\t\t</button>\t\n\t\t'}\n\t\t\t\t\t\t\t${0==this.props.buttons.includes("bold")?"":'\n\t\t\t<button id="js-editor-bold" class="mvcc-button custom-button--type-outline" title="Bold">\n\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#5f6368">\n\t\t\t\t\t<path d="M272-200v-560h221q65 0 120 40t55 111q0 51-23 78.5T602-491q25 11 55.5 41t30.5 90q0 89-65 124.5T501-200H272Zm121-112h104q48 0 58.5-24.5T566-372q0-11-10.5-35.5T494-432H393v120Zm0-228h93q33 0 48-17t15-38q0-24-17-39t-44-15h-95v109Z" />\n\t\t\t\t</svg>\n\t\t\t</button>\t\n\t\t'}\t\n\t\t\t\t\t\t\t${0==this.props.buttons.includes("italic")?"":'\n\t\t\t<button id="js-editor-italic" class="mvcc-button custom-button--type-outline" title="Italics">\n\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#5f6368">\n\t\t\t\t\t<path d="M200-200v-100h160l120-360H320v-100h400v100H580L460-300h140v100H200Z" />\n\t\t  \t\t</svg>\n\t\t\t</button>\t\n\t\t'}\t\t\n\t\t\t\t\t\t\t${0==this.props.buttons.includes("bullets")?"":'\n\t\t\t\t<button id="js-editor-bullets" class="mvcc-button custom-button--type-outline" title="Bullets">\n\t\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#5f6368">\n\t\t\t\t\t\t<path d="M360-200v-80h480v80H360Zm0-240v-80h480v80H360Zm0-240v-80h480v80H360ZM200-160q-33 0-56.5-23.5T120-240q0-33 23.5-56.5T200-320q33 0 56.5 23.5T280-240q0 33-23.5 56.5T200-160Zm0-240q-33 0-56.5-23.5T120-480q0-33 23.5-56.5T200-560q33 0 56.5 23.5T280-480q0 33-23.5 56.5T200-400Zm0-240q-33 0-56.5-23.5T120-720q0-33 23.5-56.5T200-800q33 0 56.5 23.5T280-720q0 33-23.5 56.5T200-640Z" />\n\t\t\t\t\t</svg>\n\t\t\t\t</button>\t\n\t\t'}\n\t\t\t\t\t\t\t${0==this.props.buttons.includes("numbers")?"":'\n\t\t\t\t<button id="js-editor-numbers" class="mvcc-button custom-button--type-outline" title="Italics">\n\t\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#5f6368">\n\t\t\t\t\t\t<path d="M120-80v-60h100v-30h-60v-60h60v-30H120v-60h120q17 0 28.5 11.5T280-280v40q0 17-11.5 28.5T240-200q17 0 28.5 11.5T280-160v40q0 17-11.5 28.5T240-80H120Zm0-280v-110q0-17 11.5-28.5T160-510h60v-30H120v-60h120q17 0 28.5 11.5T280-560v70q0 17-11.5 28.5T240-450h-60v30h100v60H120Zm60-280v-180h-60v-60h120v240h-60Zm180 440v-80h480v80H360Zm0-240v-80h480v80H360Zm0-240v-80h480v80H360Z" />\n\t\t\t\t\t</svg>\n\t\t\t\t</button>\t\n\t\t'}\t\n\t\t\t\t\t\t\t${0==this.props.buttons.includes("hr")?"":'\n\t\t\t<button id="js-editor-link" class="mvcc-button custom-button--type-outline" title="Link">\n\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#5f6368">\n\t\t\t\t\t<path d="M440-280H280q-83 0-141.5-58.5T80-480q0-83 58.5-141.5T280-680h160v80H280q-50 0-85 35t-35 85q0 50 35 85t85 35h160v80ZM320-440v-80h320v80H320Zm200 160v-80h160q50 0 85-35t35-85q0-50-35-85t-85-35H520v-80h160q83 0 141.5 58.5T880-480q0 83-58.5 141.5T680-280H520Z" />\n\t\t\t\t</svg>\n\t\t\t</button>\t\n\t\t'}\n\t\t\t\t\t\t\t${0==this.props.buttons.includes("hr")?"":'\n\t\t\t<button id="js-editor-hr" class="mvcc-button custom-button--type-outline" title="Horizontal Line">\n\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#5f6368">\n\t\t\t\t\t<path d="M160-440v-80h640v80H160Z" />\n\t\t\t\t</svg>\n\t\t\t</button>\t\n\t\t'}\t\t\t\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\x3c!--#editor--\x3e\n\n\t\t\t\t\t\t<div class="${e.class}" style="${e.style}">\n\t\t\t\t\t\t\t<textarea id="js-editor" class="mvcc-form__input" style="height: ${e.height||"250px"};"></textarea>\n\t\t\t\t\t \t</div>\n\t\t\t\t</div>\n\t\t`}}MvccComponent.register("mvcc-markdown-editor",MvccMarkDownEditor);
